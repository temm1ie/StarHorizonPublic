- type: entity
  id: AnCoCrab
  suffix: StarHorizon, AnCo, Anomaly
  name: защитный бот АнКо
  description: Бот необходимый для защиты важного оборудования АнКо
  parent: [ MobElementalBase, MobCombat, BaseItem ]
  components:
  - type: Item
    size: Small
  - type: Sprite
    sprite: _Horizon/_Fractions/AnCo/Mobs/uasbot.rsi
    state: crab-bot
  - type: HTN
    rootTask:
      task: SimpleHostileCompound
  - type: NpcFactionMember
    factions:
      - AnCoSecurBot
  - type: MeleeWeapon
    hidden: true
    soundHit:
      path: /Audio/Effects/sparks4.ogg
    damage:
      types:
        Blunt: 2
        Heat: 3
  - type: StaminaDamageOnHit
    damage: 25
  - type: MovementSpeedModifier
    baseWalkSpeed : 2
    baseSprintSpeed : 4
  - type: Damageable
    damageContainer: StructuralInorganic
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 20
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:SpawnEntitiesBehavior
        spawn:
          Sheetkazmie:
            min: 1
            max: 1
          SheetArdon:
            min: 0
            max: 1
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  # - type: NpcFactionMember
  #   factions:
  #     - AnCoMaster

# дрон
- type: entity
  id: AnCoDrone
  parent: AnCoCrab
  suffix: StarHorizon, AnCo
  components:
  - type: MeleeWeapon
    hidden: true
    soundHit:
      path: /Audio/Effects/sparks4.ogg
    damage:
      types:
        Blunt: 5
        Heat: 5
  - type: StaminaDamageOnHit
    damage: 40
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 60
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:SpawnEntitiesBehavior
        spawn:
          Sheetkazmie:
            min: 1
            max: 1
          SheetArdon:
            min: 0
            max: 1
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: SpawnItemsOnUse
    items:
      - id: AnCoDroneOff
  - type: EmitSoundOnActivate
    sound:
      path: /Audio/Machines/button.ogg

- type: entity
  id: AnCoDroneOff
  name: отключенный защитный бот АнКо
  suffix: StarHorizon, AnCo
  parent: BaseItem
  components:
  - type: DeleteOnTrigger
  - type: OnUseTimerTrigger
    delay: 3.5
  - type: SpawnOnTrigger
    proto: AnCoDrone
  - type: Sprite
    sprite: _Horizon/_Fractions/AnCo/Mobs/uasbot.rsi
    state: crab-off
  - type: Item
    sprite: _Horizon/_Fractions/AnCo/Mobs/uasbot.rsi
    state: crab-off
  - type: EmitSoundOnActivate
    sound:
      path: /Audio/Machines/button.ogg

# боевой

- type: entity
  id: AnCoDroneCombat
  parent: AnCoCrab
  name: боевой бот АнКо
  description: Бот с модификацией мантибул и корпуса, предназначен для боевых действий.
  suffix: StarHorizon, AnCo
  components:
  - type: Sprite
    sprite: _Horizon/_Fractions/AnCo/Mobs/uasbot.rsi
    state: combat-bot
  - type: MeleeWeapon
    hidden: true
    soundHit:
      path: /Audio/Effects/sparks4.ogg
    damage:
      types:
        Blunt: 10
        Heat: 10
  - type: StaminaDamageOnHit
    damage: 0
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 100
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:SpawnEntitiesBehavior
        spawn:
          Sheetkazmie:
            min: 1
            max: 3
          SheetArdon:
            min: 0
            max: 3
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: SpawnItemsOnUse
    items:
      - id: AnCoDroneCombatOff
  - type: EmitSoundOnActivate
    sound:
      path: /Audio/Machines/button.ogg

- type: entity
  id: AnCoDroneCombatOff
  name: отключенный боевой бот АнКо
  suffix: StarHorizon, AnCo
  parent: BaseItem
  components:
  - type: DeleteOnTrigger
  - type: OnUseTimerTrigger
    delay: 3.5
  - type: SpawnOnTrigger
    proto: AnCoDroneCombat
  - type: Sprite
    sprite: _Horizon/_Fractions/AnCo/Mobs/uasbot.rsi
    state: combat-off
  - type: Item
    sprite: _Horizon/_Fractions/AnCo/Mobs/uasbot.rsi
    state: combat-off
  - type: EmitSoundOnActivate
    sound:
      path: /Audio/Machines/button.ogg

# мина

- type: entity
  id: AnCoDroneMine
  parent: AnCoCrab
  name: бот бомба АнКо
  description: Бот с модификацией корпуса с зарядом Ардония, предназначен для боевых действий.
  suffix: StarHorizon, AnCo
  components:
  - type: Sprite
    sprite: _Horizon/_Fractions/AnCo/Mobs/uasbot.rsi
    state: mine-bot
  - type: MeleeWeapon
    hidden: true
    soundHit:
      path: /Audio/Effects/sparks4.ogg
    damage:
      types:
        Blunt: 5
        Heat: 5
  - type: StaminaDamageOnHit
    damage: 15
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 100
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:SpawnEntitiesBehavior
        spawn:
          Sheetkazmie:
            min: 1
            max: 3
          SheetArdon:
            min: 0
            max: 3
      - !type:TriggerBehavior
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: SpawnItemsOnUse
    items:
      - id: AnCoDroneMineOff
  - type: EmitSoundOnActivate
    sound:
      path: /Audio/Machines/button.ogg
  - type: ExplodeOnTrigger
  - type: Explosive
    explosionType: AnCoExplodes
    maxIntensity: 5
    intensitySlope: 3
    totalIntensity: 40
    canCreateVacuum: false

- type: entity
  id: AnCoDroneMineOff
  name: отключенный бот бомба АнКо
  suffix: StarHorizon, AnCo
  parent: BaseItem
  components:
  - type: DeleteOnTrigger
  - type: OnUseTimerTrigger
    delay: 3.5
  - type: SpawnOnTrigger
    proto: AnCoDroneMine
  - type: Sprite
    sprite: _Horizon/_Fractions/AnCo/Mobs/uasbot.rsi
    state: mine-off
  - type: Item
    sprite: _Horizon/_Fractions/AnCo/Mobs/uasbot.rsi
    state: mine-off
  - type: EmitSoundOnActivate
    sound:
      path: /Audio/Machines/button.ogg


